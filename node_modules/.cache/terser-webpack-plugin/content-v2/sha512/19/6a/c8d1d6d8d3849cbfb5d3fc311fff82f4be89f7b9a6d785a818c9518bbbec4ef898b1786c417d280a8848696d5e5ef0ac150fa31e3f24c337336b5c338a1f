{"code":"!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e){!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function u(t){try{a(o.next(t))}catch(t){i(t)}}function l(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,l)}a((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,\"__esModule\",{value:!0});const r=n(1),i=n(2);r.default.plugins.register({onStart:function(){return o(this,void 0,void 0,(function*(){yield r.default.settings.registerSection(\"autolinker\",{label:\"Autolinker\",iconName:\"fas fa-external-link-alt\"}),yield r.default.settings.registerSettings({backlinkText:{value:\"Linked from\",type:i.SettingItemType.String,section:\"autolinker\",public:!0,label:\"Backlink text (leave empty for no backlink)\"}}),r.default.commands.register({name:\"linkMaker\",label:\"Link to corresponding note. Creates it if needed.\",iconName:\"fas fa-external-link-alt\",execute:()=>o(this,void 0,void 0,(function*(){const t=yield r.default.data.get([\"notes\"]),e=yield r.default.workspace.selectedNote(),n=yield r.default.commands.execute(\"selectedText\");if(\"\"!==n){var o=0;for(let e in t.items)if(t.items[e].title.toLowerCase()===n.toLowerCase()){o=t.items[e].id,console.info(\"Found note with title \",t.items[e].title,n,o);break}0===o&&(o=(yield r.default.data.post([\"notes\"],null,{body:\"\",title:n})).id);const i=yield r.default.settings.value(\"backlinkText\"),u=(yield r.default.data.get([\"notes\",o.toString()],{fields:[\"body\"]})).body;let l,a;\"\"!==i?(l=i+\" [\"+e.title+\"](:/\"+e.id+\")\",a=u+\"\\n\"+l):a=u,yield r.default.data.put([\"notes\",o.toString()],null,{body:a});const c=\"[\"+n+\"](:/\"+o+\")\";yield r.default.commands.execute(\"replaceSelection\",c)}}))}),r.default.views.toolbarButtons.create(\"linkMaker\",\"linkMaker\",i.ToolbarButtonLocation.EditorToolbar)}))}})},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=joplin},function(t,e,n){\"use strict\";var o;Object.defineProperty(e,\"__esModule\",{value:!0}),e.ContentScriptType=e.SettingItemType=e.ToolbarButtonLocation=e.isContextMenuItemLocation=e.MenuItemLocation=e.ImportModuleOutputFormat=e.FileSystemItem=void 0,function(t){t.File=\"file\",t.Directory=\"directory\"}(e.FileSystemItem||(e.FileSystemItem={})),function(t){t.Markdown=\"md\",t.Html=\"html\"}(e.ImportModuleOutputFormat||(e.ImportModuleOutputFormat={})),function(t){t.File=\"file\",t.Edit=\"edit\",t.View=\"view\",t.Note=\"note\",t.Tools=\"tools\",t.Help=\"help\",t.Context=\"context\",t.NoteListContextMenu=\"noteListContextMenu\",t.EditorContextMenu=\"editorContextMenu\",t.FolderContextMenu=\"folderContextMenu\",t.TagContextMenu=\"tagContextMenu\"}(o=e.MenuItemLocation||(e.MenuItemLocation={})),e.isContextMenuItemLocation=function(t){return[o.Context,o.NoteListContextMenu,o.EditorContextMenu,o.FolderContextMenu,o.TagContextMenu].includes(t)},function(t){t.NoteToolbar=\"noteToolbar\",t.EditorToolbar=\"editorToolbar\"}(e.ToolbarButtonLocation||(e.ToolbarButtonLocation={})),function(t){t[t.Int=1]=\"Int\",t[t.String=2]=\"String\",t[t.Bool=3]=\"Bool\",t[t.Array=4]=\"Array\",t[t.Object=5]=\"Object\",t[t.Button=6]=\"Button\"}(e.SettingItemType||(e.SettingItemType={})),function(t){t.MarkdownItPlugin=\"markdownItPlugin\",t.CodeMirrorPlugin=\"codeMirrorPlugin\"}(e.ContentScriptType||(e.ContentScriptType={}))}])}]);","extractedComments":[]}